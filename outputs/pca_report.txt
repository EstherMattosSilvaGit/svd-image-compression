PCA Analysis Report
Generated: 2025-11-28T12:05:45.215626 UTC

Dataset: MNIST (subset)
Num samples used: 5000
Feature size: 784 (flattened 28x28)

Baseline (LogisticRegression on scaled features)
 - Accuracy (raw/scaled): 0.890000

PCA (manual)
 - Components chosen (manual): 264
 - MSE reconstruction (manual): 0.04225204

PCA (sklearn 95% variance)
 - Components chosen (sklearn): 264
 - Accuracy (logistic after PCA 95%): 0.877000
 - MSE reconstruction (sklearn): 0.04225204
 - Explained variance ratio (first 10): [0.061208, 0.045372, 0.040765, 0.031734, 0.027968, 0.023631, 0.021623, 0.019326, 0.016931, 0.015786]

PCA 2D
 - Components: 2
 - Accuracy (logistic on 2D): 0.346000
 - Explained variance ratio (2D): [0.061208, 0.045372]

Comparisons & Checks
 - Manual vs sklearn #components: manual=264, sklearn=264
 - Shapes: manual X_pca=(5000, 264), sklearn X_pca=(5000, 264)
 - Explained variance close? True

Note: Reconstructions and MSEs are computed in centered/scaled space. To view reconstructed images in original pixel scale, apply scaler.inverse_transform to the reconstructed arrays.

Full stdout log:

Buscando MNIST (OpenML) — caso não esteja em cache, será baixado...

Dataset keys:  ['data', 'target', 'frame', 'categories', 'feature_names', 'target_names', 'DESCR', 'details', 'url']

Shape (subset): (5000, 784)

First sample (flattened 784): 
 [  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
   0   0   0   0   0   0   0   0   3  18  18  18 126 136 175  26 166 255
 247 127   0   0   0   0   0   0   0   0   0   0   0   0  30  36  94 154
 170 253 253 253 253 253 225 172 253 242 195  64   0   0   0   0   0   0
   0   0   0   0   0  49 238 253 253 253 253 253 253 253 253 251  93  82
  82  56  39   0   0   0   0   0   0   0   0   0   0   0   0  18 219 253
 253 253 253 253 198 182 247 241   0   0   0   0   0   0   0   0   0   0
   0   0   0   0   0   0   0   0  80 156 107 253 253 205  11   0  43 154
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
   0  14   1 154 253  90   0   0   0   0   0   0   0   0   0   0   0   0
   0   0   0   0   0   0   0   0   0   0   0   0   0 139 253 190   2   0
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
   0   0   0   0   0  11 190 253  70   0   0   0   0   0   0   0   0   0
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0  35 241
 225 160 108   1   0   0   0   0   0   0   0   0   0   0   0   0   0   0
   0   0   0   0   0   0   0   0   0  81 240 253 253 119  25   0   0   0
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
   0   0  45 186 253 253 150  27   0   0   0   0   0   0   0   0   0   0
   0   0   0   0   0   0   0   0   0   0   0   0   0  16  93 252 253 187
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
   0   0   0   0   0   0   0 249 253 249  64   0   0   0   0   0   0   0
   0   0   0   0   0   0   0   0   0   0   0   0   0   0  46 130 183 253
 253 207   2   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
   0   0   0   0  39 148 229 253 253 253 250 182   0   0   0   0   0   0
   0   0   0   0   0   0   0   0   0   0   0   0  24 114 221 253 253 253
 253 201  78   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
   0   0  23  66 213 253 253 253 253 198  81   2   0   0   0   0   0   0
   0   0   0   0   0   0   0   0   0   0  18 171 219 253 253 253 253 195
  80   9   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
  55 172 226 253 253 253 253 244 133  11   0   0   0   0   0   0   0   0
   0   0   0   0   0   0   0   0   0   0 136 253 253 253 212 135 132  16
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
   0   0   0   0   0   0   0   0   0   0]

Reshaped data: 
 [[  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
    0   0   0   0   0   0   0   0   0   0]
 [  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
    0   0   0   0   0   0   0   0   0   0]
 [  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
    0   0   0   0   0   0   0   0   0   0]
 [  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
    0   0   0   0   0   0   0   0   0   0]
 [  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
    0   0   0   0   0   0   0   0   0   0]
 [  0   0   0   0   0   0   0   0   0   0   0   0   3  18  18  18 126 136
  175  26 166 255 247 127   0   0   0   0]
 [  0   0   0   0   0   0   0   0  30  36  94 154 170 253 253 253 253 253
  225 172 253 242 195  64   0   0   0   0]
 [  0   0   0   0   0   0   0  49 238 253 253 253 253 253 253 253 253 251
   93  82  82  56  39   0   0   0   0   0]
 [  0   0   0   0   0   0   0  18 219 253 253 253 253 253 198 182 247 241
    0   0   0   0   0   0   0   0   0   0]
 [  0   0   0   0   0   0   0   0  80 156 107 253 253 205  11   0  43 154
    0   0   0   0   0   0   0   0   0   0]
 [  0   0   0   0   0   0   0   0   0  14   1 154 253  90   0   0   0   0
    0   0   0   0   0   0   0   0   0   0]
 [  0   0   0   0   0   0   0   0   0   0   0 139 253 190   2   0   0   0
    0   0   0   0   0   0   0   0   0   0]
 [  0   0   0   0   0   0   0   0   0   0   0  11 190 253  70   0   0   0
    0   0   0   0   0   0   0   0   0   0]
 [  0   0   0   0   0   0   0   0   0   0   0   0  35 241 225 160 108   1
    0   0   0   0   0   0   0   0   0   0]
 [  0   0   0   0   0   0   0   0   0   0   0   0   0  81 240 253 253 119
   25   0   0   0   0   0   0   0   0   0]
 [  0   0   0   0   0   0   0   0   0   0   0   0   0   0  45 186 253 253
  150  27   0   0   0   0   0   0   0   0]
 [  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0  16  93 252
  253 187   0   0   0   0   0   0   0   0]
 [  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0 249
  253 249  64   0   0   0   0   0   0   0]
 [  0   0   0   0   0   0   0   0   0   0   0   0   0   0  46 130 183 253
  253 207   2   0   0   0   0   0   0   0]
 [  0   0   0   0   0   0   0   0   0   0   0   0  39 148 229 253 253 253
  250 182   0   0   0   0   0   0   0   0]
 [  0   0   0   0   0   0   0   0   0   0  24 114 221 253 253 253 253 201
   78   0   0   0   0   0   0   0   0   0]
 [  0   0   0   0   0   0   0   0  23  66 213 253 253 253 253 198  81   2
    0   0   0   0   0   0   0   0   0   0]
 [  0   0   0   0   0   0  18 171 219 253 253 253 253 195  80   9   0   0
    0   0   0   0   0   0   0   0   0   0]
 [  0   0   0   0  55 172 226 253 253 253 253 244 133  11   0   0   0   0
    0   0   0   0   0   0   0   0   0   0]
 [  0   0   0   0 136 253 253 253 212 135 132  16   0   0   0   0   0   0
    0   0   0   0   0   0   0   0   0   0]
 [  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
    0   0   0   0   0   0   0   0   0   0]
 [  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
    0   0   0   0   0   0   0   0   0   0]
 [  0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0   0
    0   0   0   0   0   0   0   0   0   0]]

First image showed.

First image showed.

Target:  [5 0 4 ... 2 1 2]

Unique Targets:  [0 1 2 3 4 5 6 7 8 9]

9 image showed.
4

Data Frame:        pixel_0_0  pixel_0_1  pixel_0_2  ...  pixel_27_25  pixel_27_26  pixel_27_27
0             0          0          0  ...            0            0            0
1             0          0          0  ...            0            0            0
2             0          0          0  ...            0            0            0
3             0          0          0  ...            0            0            0
4             0          0          0  ...            0            0            0
...         ...        ...        ...  ...          ...          ...          ...
4995          0          0          0  ...            0            0            0
4996          0          0          0  ...            0            0            0
4997          0          0          0  ...            0            0            0
4998          0          0          0  ...            0            0            0
4999          0          0          0  ...            0            0            0

[5000 rows x 784 columns]

Data Frame object:     pixel_0_0  pixel_0_1  pixel_0_2  ...  pixel_27_25  pixel_27_26  pixel_27_27
0          0          0          0  ...            0            0            0
1          0          0          0  ...            0            0            0
2          0          0          0  ...            0            0            0
3          0          0          0  ...            0            0            0
4          0          0          0  ...            0            0            0

[5 rows x 784 columns]

Describe:         pixel_0_0  pixel_0_1  ...  pixel_27_26  pixel_27_27
count     5000.0     5000.0  ...       5000.0       5000.0
mean         0.0        0.0  ...          0.0          0.0
std          0.0        0.0  ...          0.0          0.0
min          0.0        0.0  ...          0.0          0.0
25%          0.0        0.0  ...          0.0          0.0
50%          0.0        0.0  ...          0.0          0.0
75%          0.0        0.0  ...          0.0          0.0
max          0.0        0.0  ...          0.0          0.0

[8 rows x 784 columns]

X and Y:        pixel_0_0  pixel_0_1  pixel_0_2  ...  pixel_27_25  pixel_27_26  pixel_27_27
0             0          0          0  ...            0            0            0
1             0          0          0  ...            0            0            0
2             0          0          0  ...            0            0            0
3             0          0          0  ...            0            0            0
4             0          0          0  ...            0            0            0
...         ...        ...        ...  ...          ...          ...          ...
4995          0          0          0  ...            0            0            0
4996          0          0          0  ...            0            0            0
4997          0          0          0  ...            0            0            0
4998          0          0          0  ...            0            0            0
4999          0          0          0  ...            0            0            0

[5000 rows x 784 columns] [5 0 4 ... 2 1 2]

X Scaled:  [[0. 0. 0. ... 0. 0. 0.]
 [0. 0. 0. ... 0. 0. 0.]
 [0. 0. 0. ... 0. 0. 0.]
 ...
 [0. 0. 0. ... 0. 0. 0.]
 [0. 0. 0. ... 0. 0. 0.]
 [0. 0. 0. ... 0. 0. 0.]]

Accuracy (raw / scaled features): 0.89
Manual PCA - Shape: (5000, 264)
Manual explained variance ratio: [0.06120767 0.04537228 0.04076487 0.03173383 0.02796762 0.02363069
 0.02162252 0.01932637 0.01693052 0.01578583 0.01491301 0.01286535
 0.0122174  0.01212607 0.01180722 0.01106264 0.01085167 0.0105171
 0.00998614 0.00968347 0.00923872 0.00904786 0.00899416 0.00867982
 0.0082599  0.00798382 0.0077164  0.00735043 0.00729551 0.00700948
 0.00691816 0.00666816 0.00652049 0.00633407 0.00617872 0.00612586
 0.00606578 0.00585625 0.00579267 0.00563301 0.00557563 0.00538921
 0.0052737  0.00523598 0.00502688 0.00492767 0.00486133 0.00480528
 0.00470976 0.00463254 0.00448896 0.00445815 0.0043619  0.00431059
 0.00425574 0.0041385  0.00408494 0.00403882 0.00397319 0.00385322
 0.00379689 0.00378707 0.00371447 0.00367943 0.00359834 0.00355039
 0.00350859 0.00343539 0.0034007  0.00338962 0.00331527 0.00330775
 0.00324162 0.00319652 0.00317952 0.00313447 0.0031251  0.00309896
 0.00297939 0.00296853 0.00294543 0.00291131 0.0028725  0.00282945
 0.00281615 0.00278241 0.00275495 0.00273921 0.00267873 0.00262793
 0.00259953 0.00256309 0.00253178 0.00250936 0.00247541 0.0024155
 0.00241136 0.00237487 0.00236356 0.00234138 0.00230452 0.00226648
 0.00222841 0.0021925  0.00216837 0.00213449 0.00212331 0.00209234
 0.00205381 0.00204717 0.00203176 0.0020191  0.00199631 0.00198469
 0.00195697 0.00194245 0.00192453 0.00190891 0.00185253 0.00185177
 0.00182292 0.00179671 0.00176279 0.00174567 0.00174133 0.00172663
 0.00169817 0.00166172 0.00164918 0.00162259 0.00162168 0.00159937
 0.00157924 0.00154029 0.00153173 0.00152069 0.00150636 0.00149327
 0.00147828 0.00145485 0.00143977 0.00142987 0.00141476 0.00140314
 0.00138263 0.00137961 0.0013438  0.00133805 0.00132941 0.00130989
 0.0012842  0.00127253 0.001266   0.00125502 0.00124152 0.00121072
 0.00119526 0.00119356 0.00118453 0.00117314 0.0011632  0.00115476
 0.00113852 0.00113588 0.00112392 0.00111072 0.00110407 0.0010835
 0.00107215 0.00106505 0.00105073 0.0010317  0.0010185  0.00100965
 0.00098711 0.00097596 0.00097481 0.00096247 0.00095234 0.00093825
 0.00093034 0.00092568 0.00092245 0.00091323 0.00089883 0.00087909
 0.00086612 0.00086486 0.00085875 0.00084985 0.00084468 0.00084113
 0.00082789 0.00082483 0.00081208 0.00080063 0.00078992 0.00078632
 0.00077874 0.00076652 0.00075192 0.00074743 0.00074349 0.00073667
 0.00072681 0.00072294 0.00071517 0.00070384 0.00069935 0.00069271
 0.00068416 0.00067717 0.00066708 0.00066112 0.00065499 0.00065189
 0.00064345 0.00063584 0.00062949 0.0006275  0.00062442 0.0006172
 0.00060717 0.00060085 0.00059268 0.00058959 0.00057712 0.00057592
 0.00057141 0.00056745 0.00056359 0.00055632 0.00055054 0.00053947
 0.00053479 0.00053194 0.00052634 0.0005173  0.00051562 0.00051073
 0.00050358 0.00049737 0.00049481 0.00049233 0.00048756 0.00048585
 0.00048201 0.00047699 0.00046933 0.00046745 0.00045964 0.00045699
 0.00045391 0.00044464 0.0004378  0.00043439 0.0004317  0.00042748
 0.00042251 0.00041881 0.00041461 0.00041193 0.0004075  0.00040208]
Manual Components: 264

Sklearn PCA - Shape: (5000, 264)

X_pca_sklearn:  [[-1.18381765 -4.74664945 -0.6176446  ...  0.14360715 -0.14386761
  -0.09048586]
 [ 8.34200551 -7.06693129 -5.27951203 ...  0.05633176 -0.47634134
  -0.07873674]
 [ 2.63748111 10.66214696 -3.53852244 ... -0.48393011  0.53859252
   0.12850458]
 ...
 [ 3.2895163  -3.66278874  1.74879453 ...  0.44521351 -0.08866188
   0.17606295]
 [-7.27187442 -0.81901285  2.35290875 ... -0.10993829 -0.81312964
   0.14054199]
 [-1.33320447  1.59472758  6.41912983 ...  0.10079196 -0.80761185
   0.44503517]]

Sklearn explained variance ratio:  [0.06120767 0.04537228 0.04076487 0.03173383 0.02796762 0.02363069
 0.02162252 0.01932637 0.01693052 0.01578583 0.01491301 0.01286535
 0.0122174  0.01212607 0.01180722 0.01106264 0.01085167 0.0105171
 0.00998614 0.00968347 0.00923872 0.00904786 0.00899416 0.00867982
 0.0082599  0.00798382 0.0077164  0.00735043 0.00729551 0.00700948
 0.00691816 0.00666816 0.00652049 0.00633407 0.00617872 0.00612586
 0.00606578 0.00585625 0.00579267 0.00563301 0.00557563 0.00538921
 0.0052737  0.00523598 0.00502688 0.00492767 0.00486133 0.00480528
 0.00470976 0.00463254 0.00448896 0.00445815 0.0043619  0.00431059
 0.00425574 0.0041385  0.00408494 0.00403882 0.00397319 0.00385322
 0.00379689 0.00378707 0.00371447 0.00367943 0.00359834 0.00355039
 0.00350859 0.00343539 0.0034007  0.00338962 0.00331527 0.00330775
 0.00324162 0.00319652 0.00317952 0.00313447 0.0031251  0.00309896
 0.00297939 0.00296853 0.00294543 0.00291131 0.0028725  0.00282945
 0.00281615 0.00278241 0.00275495 0.00273921 0.00267873 0.00262793
 0.00259953 0.00256309 0.00253178 0.00250936 0.00247541 0.0024155
 0.00241136 0.00237487 0.00236356 0.00234138 0.00230452 0.00226648
 0.00222841 0.0021925  0.00216837 0.00213449 0.00212331 0.00209234
 0.00205381 0.00204717 0.00203176 0.0020191  0.00199631 0.00198469
 0.00195697 0.00194245 0.00192453 0.00190891 0.00185253 0.00185177
 0.00182292 0.00179671 0.00176279 0.00174567 0.00174133 0.00172663
 0.00169817 0.00166172 0.00164918 0.00162259 0.00162168 0.00159937
 0.00157924 0.00154029 0.00153173 0.00152069 0.00150636 0.00149327
 0.00147828 0.00145485 0.00143977 0.00142987 0.00141476 0.00140314
 0.00138263 0.00137961 0.0013438  0.00133805 0.00132941 0.00130989
 0.0012842  0.00127253 0.001266   0.00125502 0.00124152 0.00121072
 0.00119526 0.00119356 0.00118453 0.00117314 0.0011632  0.00115476
 0.00113852 0.00113588 0.00112392 0.00111072 0.00110407 0.0010835
 0.00107215 0.00106505 0.00105073 0.0010317  0.0010185  0.00100965
 0.00098711 0.00097596 0.00097481 0.00096247 0.00095234 0.00093825
 0.00093034 0.00092568 0.00092245 0.00091323 0.00089883 0.00087909
 0.00086612 0.00086486 0.00085875 0.00084985 0.00084468 0.00084113
 0.00082789 0.00082483 0.00081208 0.00080063 0.00078992 0.00078632
 0.00077874 0.00076652 0.00075192 0.00074743 0.00074349 0.00073667
 0.00072681 0.00072294 0.00071517 0.00070384 0.00069935 0.00069271
 0.00068416 0.00067717 0.00066708 0.00066112 0.00065499 0.00065189
 0.00064345 0.00063584 0.00062949 0.0006275  0.00062442 0.0006172
 0.00060717 0.00060085 0.00059268 0.00058959 0.00057712 0.00057592
 0.00057141 0.00056745 0.00056359 0.00055632 0.00055054 0.00053947
 0.00053479 0.00053194 0.00052634 0.0005173  0.00051562 0.00051073
 0.00050358 0.00049737 0.00049481 0.00049233 0.00048756 0.00048585
 0.00048201 0.00047699 0.00046933 0.00046745 0.00045964 0.00045699
 0.00045391 0.00044464 0.0004378  0.00043439 0.0004317  0.00042748
 0.00042251 0.00041881 0.00041461 0.00041193 0.0004075  0.00040208]

Sklearn Components:  264

Number of components (manual): 264
Number of components (sklearn): 264
Shapes: manual X_pca (5000, 264) sklearn X_pca (5000, 264)
Explained variance (manual, first k): [0.06120767 0.04537228 0.04076487 0.03173383 0.02796762 0.02363069
 0.02162252 0.01932637 0.01693052 0.01578583 0.01491301 0.01286535
 0.0122174  0.01212607 0.01180722 0.01106264 0.01085167 0.0105171
 0.00998614 0.00968347 0.00923872 0.00904786 0.00899416 0.00867982
 0.0082599  0.00798382 0.0077164  0.00735043 0.00729551 0.00700948
 0.00691816 0.00666816 0.00652049 0.00633407 0.00617872 0.00612586
 0.00606578 0.00585625 0.00579267 0.00563301 0.00557563 0.00538921
 0.0052737  0.00523598 0.00502688 0.00492767 0.00486133 0.00480528
 0.00470976 0.00463254 0.00448896 0.00445815 0.0043619  0.00431059
 0.00425574 0.0041385  0.00408494 0.00403882 0.00397319 0.00385322
 0.00379689 0.00378707 0.00371447 0.00367943 0.00359834 0.00355039
 0.00350859 0.00343539 0.0034007  0.00338962 0.00331527 0.00330775
 0.00324162 0.00319652 0.00317952 0.00313447 0.0031251  0.00309896
 0.00297939 0.00296853 0.00294543 0.00291131 0.0028725  0.00282945
 0.00281615 0.00278241 0.00275495 0.00273921 0.00267873 0.00262793
 0.00259953 0.00256309 0.00253178 0.00250936 0.00247541 0.0024155
 0.00241136 0.00237487 0.00236356 0.00234138 0.00230452 0.00226648
 0.00222841 0.0021925  0.00216837 0.00213449 0.00212331 0.00209234
 0.00205381 0.00204717 0.00203176 0.0020191  0.00199631 0.00198469
 0.00195697 0.00194245 0.00192453 0.00190891 0.00185253 0.00185177
 0.00182292 0.00179671 0.00176279 0.00174567 0.00174133 0.00172663
 0.00169817 0.00166172 0.00164918 0.00162259 0.00162168 0.00159937
 0.00157924 0.00154029 0.00153173 0.00152069 0.00150636 0.00149327
 0.00147828 0.00145485 0.00143977 0.00142987 0.00141476 0.00140314
 0.00138263 0.00137961 0.0013438  0.00133805 0.00132941 0.00130989
 0.0012842  0.00127253 0.001266   0.00125502 0.00124152 0.00121072
 0.00119526 0.00119356 0.00118453 0.00117314 0.0011632  0.00115476
 0.00113852 0.00113588 0.00112392 0.00111072 0.00110407 0.0010835
 0.00107215 0.00106505 0.00105073 0.0010317  0.0010185  0.00100965
 0.00098711 0.00097596 0.00097481 0.00096247 0.00095234 0.00093825
 0.00093034 0.00092568 0.00092245 0.00091323 0.00089883 0.00087909
 0.00086612 0.00086486 0.00085875 0.00084985 0.00084468 0.00084113
 0.00082789 0.00082483 0.00081208 0.00080063 0.00078992 0.00078632
 0.00077874 0.00076652 0.00075192 0.00074743 0.00074349 0.00073667
 0.00072681 0.00072294 0.00071517 0.00070384 0.00069935 0.00069271
 0.00068416 0.00067717 0.00066708 0.00066112 0.00065499 0.00065189
 0.00064345 0.00063584 0.00062949 0.0006275  0.00062442 0.0006172
 0.00060717 0.00060085 0.00059268 0.00058959 0.00057712 0.00057592
 0.00057141 0.00056745 0.00056359 0.00055632 0.00055054 0.00053947
 0.00053479 0.00053194 0.00052634 0.0005173  0.00051562 0.00051073
 0.00050358 0.00049737 0.00049481 0.00049233 0.00048756 0.00048585
 0.00048201 0.00047699 0.00046933 0.00046745 0.00045964 0.00045699
 0.00045391 0.00044464 0.0004378  0.00043439 0.0004317  0.00042748
 0.00042251 0.00041881 0.00041461 0.00041193 0.0004075  0.00040208]
Explained variance (sklearn, first k): [0.06120767 0.04537228 0.04076487 0.03173383 0.02796762 0.02363069
 0.02162252 0.01932637 0.01693052 0.01578583 0.01491301 0.01286535
 0.0122174  0.01212607 0.01180722 0.01106264 0.01085167 0.0105171
 0.00998614 0.00968347 0.00923872 0.00904786 0.00899416 0.00867982
 0.0082599  0.00798382 0.0077164  0.00735043 0.00729551 0.00700948
 0.00691816 0.00666816 0.00652049 0.00633407 0.00617872 0.00612586
 0.00606578 0.00585625 0.00579267 0.00563301 0.00557563 0.00538921
 0.0052737  0.00523598 0.00502688 0.00492767 0.00486133 0.00480528
 0.00470976 0.00463254 0.00448896 0.00445815 0.0043619  0.00431059
 0.00425574 0.0041385  0.00408494 0.00403882 0.00397319 0.00385322
 0.00379689 0.00378707 0.00371447 0.00367943 0.00359834 0.00355039
 0.00350859 0.00343539 0.0034007  0.00338962 0.00331527 0.00330775
 0.00324162 0.00319652 0.00317952 0.00313447 0.0031251  0.00309896
 0.00297939 0.00296853 0.00294543 0.00291131 0.0028725  0.00282945
 0.00281615 0.00278241 0.00275495 0.00273921 0.00267873 0.00262793
 0.00259953 0.00256309 0.00253178 0.00250936 0.00247541 0.0024155
 0.00241136 0.00237487 0.00236356 0.00234138 0.00230452 0.00226648
 0.00222841 0.0021925  0.00216837 0.00213449 0.00212331 0.00209234
 0.00205381 0.00204717 0.00203176 0.0020191  0.00199631 0.00198469
 0.00195697 0.00194245 0.00192453 0.00190891 0.00185253 0.00185177
 0.00182292 0.00179671 0.00176279 0.00174567 0.00174133 0.00172663
 0.00169817 0.00166172 0.00164918 0.00162259 0.00162168 0.00159937
 0.00157924 0.00154029 0.00153173 0.00152069 0.00150636 0.00149327
 0.00147828 0.00145485 0.00143977 0.00142987 0.00141476 0.00140314
 0.00138263 0.00137961 0.0013438  0.00133805 0.00132941 0.00130989
 0.0012842  0.00127253 0.001266   0.00125502 0.00124152 0.00121072
 0.00119526 0.00119356 0.00118453 0.00117314 0.0011632  0.00115476
 0.00113852 0.00113588 0.00112392 0.00111072 0.00110407 0.0010835
 0.00107215 0.00106505 0.00105073 0.0010317  0.0010185  0.00100965
 0.00098711 0.00097596 0.00097481 0.00096247 0.00095234 0.00093825
 0.00093034 0.00092568 0.00092245 0.00091323 0.00089883 0.00087909
 0.00086612 0.00086486 0.00085875 0.00084985 0.00084468 0.00084113
 0.00082789 0.00082483 0.00081208 0.00080063 0.00078992 0.00078632
 0.00077874 0.00076652 0.00075192 0.00074743 0.00074349 0.00073667
 0.00072681 0.00072294 0.00071517 0.00070384 0.00069935 0.00069271
 0.00068416 0.00067717 0.00066708 0.00066112 0.00065499 0.00065189
 0.00064345 0.00063584 0.00062949 0.0006275  0.00062442 0.0006172
 0.00060717 0.00060085 0.00059268 0.00058959 0.00057712 0.00057592
 0.00057141 0.00056745 0.00056359 0.00055632 0.00055054 0.00053947
 0.00053479 0.00053194 0.00052634 0.0005173  0.00051562 0.00051073
 0.00050358 0.00049737 0.00049481 0.00049233 0.00048756 0.00048585
 0.00048201 0.00047699 0.00046933 0.00046745 0.00045964 0.00045699
 0.00045391 0.00044464 0.0004378  0.00043439 0.0004317  0.00042748
 0.00042251 0.00041881 0.00041461 0.00041193 0.0004075  0.00040208]
Cum. variance (manual, first k): [0.06120767 0.10657995 0.14734482 0.17907866 0.20704628 0.23067697
 0.25229948 0.27162585 0.28855637 0.3043422  0.31925521 0.33212056
 0.34433796 0.35646403 0.36827125 0.37933389 0.39018555 0.40070266
 0.4106888  0.42037227 0.42961098 0.43865885 0.44765301 0.45633283
 0.46459273 0.47257655 0.48029296 0.48764339 0.4949389  0.50194837
 0.50886653 0.5155347  0.52205518 0.52838925 0.53456798 0.54069384
 0.54675962 0.55261587 0.55840855 0.56404156 0.56961719 0.57500641
 0.58028011 0.58551609 0.59054297 0.59547064 0.60033197 0.60513725
 0.60984702 0.61447955 0.61896851 0.62342666 0.62778856 0.63209916
 0.63635489 0.64049339 0.64457833 0.64861715 0.65259034 0.65644357
 0.66024045 0.66402752 0.66774199 0.67142142 0.67501976 0.67857015
 0.68207874 0.68551413 0.68891484 0.69230445 0.69561973 0.69892748
 0.7021691  0.70536561 0.70854514 0.71167961 0.71480471 0.71790366
 0.72088305 0.72385158 0.72679701 0.72970832 0.73258081 0.73541026
 0.73822641 0.74100882 0.74376377 0.74650298 0.74918171 0.75180964
 0.75440918 0.75697226 0.75950404 0.7620134  0.7644888  0.76690431
 0.76931567 0.77169055 0.7740541  0.77639549 0.77870001 0.78096648
 0.78319489 0.78538738 0.78755575 0.78969025 0.79181356 0.7939059
 0.79595972 0.79800689 0.80003865 0.80205775 0.80405406 0.80603875
 0.80799572 0.80993816 0.8118627  0.81377161 0.81562414 0.81747592
 0.81929884 0.82109555 0.82285834 0.82460401 0.82634534 0.82807197
 0.82977014 0.83143186 0.83308104 0.83470363 0.83632531 0.83792468
 0.83950392 0.84104421 0.84257594 0.84409663 0.84560299 0.84709625
 0.84857454 0.85002939 0.85146915 0.85289902 0.85431378 0.85571692
 0.85709955 0.85847916 0.85982296 0.861161   0.86249042 0.86380031
 0.86508451 0.86635703 0.86762303 0.86887805 0.87011957 0.87133029
 0.87252556 0.87371911 0.87490364 0.87607679 0.87723998 0.87839475
 0.87953327 0.88066915 0.88179307 0.88290379 0.88400786 0.88509136
 0.88616351 0.88722856 0.88827929 0.88931099 0.89032949 0.89133914
 0.89232625 0.89330221 0.89427703 0.8952395  0.89619184 0.89713009
 0.89806043 0.89898611 0.89990857 0.9008218  0.90172063 0.90259973
 0.90346585 0.90433071 0.90518947 0.90603932 0.906884   0.90772513
 0.90855302 0.90937785 0.91018993 0.91099056 0.91178048 0.9125668
 0.91334554 0.91411206 0.91486398 0.9156114  0.91635489 0.91709156
 0.91781837 0.91854131 0.91925648 0.91996031 0.92065967 0.92135238
 0.92203654 0.9227137  0.92338079 0.92404191 0.92469689 0.92534879
 0.92599224 0.92662808 0.92725757 0.92788506 0.92850949 0.92912669
 0.92973386 0.93033471 0.93092738 0.93151697 0.93209409 0.93267001
 0.93324142 0.93380887 0.93437246 0.93492878 0.93547933 0.9360188
 0.93655358 0.93708552 0.93761187 0.93812917 0.9386448  0.93915553
 0.9396591  0.94015647 0.94065128 0.94114361 0.94163117 0.94211701
 0.94259902 0.94307602 0.94354535 0.9440128  0.94447244 0.94492943
 0.94538333 0.94582798 0.94626578 0.94670017 0.94713187 0.94755935
 0.94798186 0.94840068 0.94881529 0.94922723 0.94963473 0.95003681]
Cum. variance (sklearn, first k): [0.06120767 0.10657995 0.14734482 0.17907866 0.20704628 0.23067697
 0.25229948 0.27162585 0.28855637 0.3043422  0.31925521 0.33212056
 0.34433796 0.35646403 0.36827125 0.37933389 0.39018555 0.40070266
 0.4106888  0.42037227 0.42961098 0.43865885 0.44765301 0.45633283
 0.46459273 0.47257655 0.48029296 0.48764339 0.4949389  0.50194837
 0.50886653 0.5155347  0.52205518 0.52838925 0.53456798 0.54069384
 0.54675962 0.55261587 0.55840855 0.56404156 0.56961719 0.57500641
 0.58028011 0.58551609 0.59054297 0.59547064 0.60033197 0.60513725
 0.60984702 0.61447955 0.61896851 0.62342666 0.62778856 0.63209916
 0.63635489 0.64049339 0.64457833 0.64861715 0.65259034 0.65644357
 0.66024045 0.66402752 0.66774199 0.67142142 0.67501976 0.67857015
 0.68207874 0.68551413 0.68891484 0.69230445 0.69561973 0.69892748
 0.7021691  0.70536561 0.70854514 0.71167961 0.71480471 0.71790366
 0.72088305 0.72385158 0.72679701 0.72970832 0.73258081 0.73541026
 0.73822641 0.74100882 0.74376377 0.74650298 0.74918171 0.75180964
 0.75440918 0.75697226 0.75950404 0.7620134  0.7644888  0.76690431
 0.76931567 0.77169055 0.7740541  0.77639549 0.77870001 0.78096648
 0.78319489 0.78538738 0.78755575 0.78969025 0.79181356 0.7939059
 0.79595972 0.79800689 0.80003865 0.80205775 0.80405406 0.80603875
 0.80799572 0.80993816 0.8118627  0.81377161 0.81562414 0.81747592
 0.81929884 0.82109555 0.82285834 0.82460401 0.82634534 0.82807197
 0.82977014 0.83143186 0.83308104 0.83470363 0.83632531 0.83792468
 0.83950392 0.84104421 0.84257594 0.84409663 0.84560299 0.84709625
 0.84857454 0.85002939 0.85146915 0.85289902 0.85431378 0.85571692
 0.85709955 0.85847916 0.85982296 0.861161   0.86249042 0.86380031
 0.86508451 0.86635703 0.86762303 0.86887805 0.87011957 0.87133029
 0.87252556 0.87371911 0.87490364 0.87607679 0.87723998 0.87839475
 0.87953327 0.88066915 0.88179307 0.88290379 0.88400786 0.88509136
 0.88616351 0.88722856 0.88827929 0.88931099 0.89032949 0.89133914
 0.89232625 0.89330221 0.89427703 0.8952395  0.89619184 0.89713009
 0.89806043 0.89898611 0.89990857 0.9008218  0.90172063 0.90259973
 0.90346585 0.90433071 0.90518947 0.90603932 0.906884   0.90772513
 0.90855302 0.90937785 0.91018993 0.91099056 0.91178048 0.9125668
 0.91334554 0.91411206 0.91486398 0.9156114  0.91635489 0.91709156
 0.91781837 0.91854131 0.91925648 0.91996031 0.92065967 0.92135238
 0.92203654 0.9227137  0.92338079 0.92404191 0.92469689 0.92534879
 0.92599224 0.92662808 0.92725757 0.92788506 0.92850949 0.92912669
 0.92973386 0.93033471 0.93092738 0.93151697 0.93209409 0.93267001
 0.93324142 0.93380887 0.93437246 0.93492878 0.93547933 0.9360188
 0.93655358 0.93708552 0.93761187 0.93812917 0.9386448  0.93915553
 0.9396591  0.94015647 0.94065128 0.94114361 0.94163117 0.94211701
 0.94259902 0.94307602 0.94354535 0.9440128  0.94447244 0.94492943
 0.94538333 0.94582798 0.94626578 0.94670017 0.94713187 0.94755935
 0.94798186 0.94840068 0.94881529 0.94922723 0.94963473 0.95003681]
Explained variance close? True

Comparação final:
Sklearn components: 264
Manual components: 264
Shapes: Manual X_pca (5000, 264) Sklearn X_pca (5000, 264)
MSE reconstrução (manual): 0.04225203694239326
MSE reconstrução (sklearn): 0.042252036942393253

Score PCA (95% var, n_components=264):  0.877

Shape pca 2D:  (5000, 2)

Dataframe pca 2D:  [[-1.18385508 -4.74609976]
 [ 8.34200101 -7.06735494]
 [ 2.63747871 10.66242485]
 ...
 [ 3.28949711 -3.66212562]
 [-7.27189603 -0.81838725]
 [-1.33321121  1.59495186]]

Explained variance ratio pca 2D:  [0.06120767 0.04537228]

Score PCA 2D:  0.346

Resumo final:
Accuracy (raw): 0.89
Accuracy (PCA 95%, n_components=264): 0.877
Accuracy (PCA 2D, n_components=2): 0.346
